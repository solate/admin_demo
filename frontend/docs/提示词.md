
## 提示词模板（可直接复制用于生成代码）

### 前端（Vue3 + Element Plus）

- **生成项目基础结构**
```text
你是资深前端工程师，请使用 Vite + Vue3 + TypeScript + Pinia + Vue Router + Element Plus 初始化一个管理后台工程。要求：
- 目录：src/components、src/views、src/router、src/api、src/utils、src/assets、src/styles、public
- 全局样式与主题色配置（支持暗色/亮色切换的预留）
- 配置路由懒加载与基础鉴权守卫（未登录跳转 /login）
- 封装 axios 实例：baseURL、超时、请求/响应拦截、统一错误提示
- 使用环境变量区分开发/生产 API 地址
- README 中写出启动命令
```

- **登录页生成**
```text
请实现登录页面（/login）：
- 表单项：账号（必填），密码（必填，带“查看密码”切换），登录按钮，注册按钮
- 登录成功后跳转“/”（首页）
- 使用 Element Plus 表单与校验，显示后端返回错误
- 提供假数据登录模拟（可选）并预留实际 API：POST /api/auth/login
```

- **后台布局与导航**
```text
请实现基础布局：顶部导航栏 + 左侧可折叠侧边栏 + 面包屑 + 主内容区。
- 侧边栏基于路由自动生成菜单，支持图标与激活高亮
- 面包屑基于当前路由生成
- 顶部导航包含：系统标题、用户头像下拉（个人中心/退出登录）
```

- **页面1：工厂管理（增删改查 + 搜索）**
```text
请实现“工厂管理”页面：
- 表格字段：ID、工厂名称、地址、负责人、创建时间、操作（编辑/删除）
- 顶部提供：新建按钮、关键字搜索（名称/地址）
- 支持分页、批量删除
- 新建/编辑使用弹窗表单
- API 约定：
  - GET /api/factories?page=&pageSize=&keyword=
  - POST /api/factories
  - PUT /api/factories/:id
  - DELETE /api/factories/:id（支持批量）
```

- **页面2：商品与库存（入库/出库/展示剩余）**
```text
请实现“商品与库存”页面：
- 商品基础信息：名称、SKU、类别、价格、单位、备注
- 操作：入库、出库，展示实时库存数量
- 记录入库/出库日志（列表Tab）
- API 约定：
  - GET /api/products?page=&pageSize=&keyword=
  - POST /api/products
  - PUT /api/products/:id
  - POST /api/inventory/in
  - POST /api/inventory/out
  - GET /api/inventory/:productId (返回当前库存)
```

- **页面3：数据统计**
```text
请实现“统计”页面（图表与指标卡片）：
- 指标：商品总额、商品数量、入库总数、出库总数、库存总数
- 折线/柱状图：按日/周/月统计入库与出库数量
- API 约定：GET /api/stats/overview, GET /api/stats/trends?range=daily|weekly|monthly
```

- **统一 API 封装与类型**
```text
请在 src/api 下按资源拆分文件（auth.ts、factory.ts、product.ts、inventory.ts、stats.ts），使用 TypeScript 定义请求与响应类型，所有函数返回 Promise<AxiosResponseDataType>。
```

### 后端（Go + go-zero + ent）

- **项目脚手架与模块划分**
```text
你是资深后端工程师，请使用 go-zero + ent 初始化后端：
- 目录建议：backend/app/[service]/api、internal、model、logic、svc、config、etc
- 使用 ent 生成数据模型与迁移
- 配置 JWT 鉴权中间件，/api/auth/login、/api/auth/register 放开鉴权，其余需要 Bearer Token
```

- **数据模型（ent）**
```text
请用 ent 定义以下模型并生成迁移：
- User：id, username(unique), password(hash), created_at
- Factory：id, name, address, owner, created_at
- Product：id, name, sku(unique), category, price(decimal), unit, remark, created_at
- Inventory：id, product_id(FK), quantity(int, 可为负), updated_at
- InventoryLog：id, product_id(FK), change(int, 正为入库/负为出库), remark, created_at
```

- **服务与路由（go-zero）**
```text
请实现以下 API：
- POST /api/auth/login（返回 JWT）
- GET /api/factories（分页/搜索）
- POST /api/factories、PUT /api/factories/:id、DELETE /api/factories/:id
- GET /api/products（分页/搜索）、POST /api/products、PUT /api/products/:id
- POST /api/inventory/in、POST /api/inventory/out、GET /api/inventory/:productId
- GET /api/stats/overview、GET /api/stats/trends?range=daily|weekly|monthly
```

- **业务逻辑要求**
```text
登录：校验用户名密码（BCrypt），签发 JWT；注册写入 hash 后密码。
入库/出库：写 InventoryLog，同步 Inventory.quantity；并做并发安全与事务。
统计：
- 概览统计：基于 Product、Inventory、InventoryLog 计算指标
- 趋势统计：按时间维度聚合 InventoryLog.change
```

- **配置与启动**
```text
提供 etc 配置样例（数据库、JWT 密钥、端口）。
Makefile 或 task 定义：ent 生成/迁移、服务运行。
```

### 接口契约与联调说明

```text
统一返回结构：{ code: number, message: string, data?: any }
前端在请求头附带 Authorization: Bearer <token>
约定错误码：0=成功；非0=失败。常见：401未登录、403无权限、422参数错误、500服务异常。
```

### 开发与运行命令（示例）

```text
前端：
- 安装依赖：pnpm i 或 npm i
- 开发启动：pnpm dev 或 npm run dev

后端：
- 生成 ent：go generate ./... 或 ent generate ./ent/schema
- 执行迁移：go run cmd/migrate/main.go（示例）
- 启动服务：go run main.go 或 make run
```

