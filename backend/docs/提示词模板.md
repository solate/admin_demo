# 提示词模板

## 工厂管理模块实现提示词

```
请基于现有的 Go-Zero 项目结构，实现工厂管理模块的完整功能。

### 项目信息
- 项目路径: /Users/solate/workspace/go/src/admin_demo/backend
- 使用框架: Go-Zero + Ent ORM
- 数据库: PostgreSQL/MySQL
- 租户隔离: 支持多租户

### 已实现的 Schema
- Factory schema 已定义在 pkg/ent/schema/factory.go
- 包含字段: factory_id, factory_name, address, contact_phone, status
- 支持软删除和租户隔离

### 需要实现的功能
1. 生成 Ent 代码
2. 创建以下文件结构:
   - internal/handler/factory/ (5个handler文件)
   - internal/logic/factory/ (5个logic文件)  
   - internal/repository/factory/ (1个repository文件)
3. 实现 API 接口:
   - POST /api/factory/create - 创建工厂
   - GET /api/factory/list - 工厂列表(支持分页、搜索)
   - GET /api/factory/detail - 工厂详情
   - PUT /api/factory/update - 更新工厂
   - DELETE /api/factory/delete - 删除工厂

### 技术要求
- 使用现有的项目结构和代码风格
- 实现统一的响应格式
- 添加参数验证
- 支持分页查询和搜索
- 实现软删除
- 添加操作日志
- 遵循现有的错误处理模式

### 参考文件
- 参考现有的 user 模块实现
- 查看 internal/handler/user/ 和 internal/logic/user/ 的实现方式
- 参考 internal/types/types.go 中的响应结构
```

## 商品管理模块实现提示词

```
请基于现有的 Go-Zero 项目结构，实现商品管理模块的完整功能。

### 项目信息
- 项目路径: /Users/solate/workspace/go/src/admin_demo/backend
- 使用框架: Go-Zero + Ent ORM
- 数据库: PostgreSQL/MySQL
- 租户隔离: 支持多租户

### 已实现的 Schema
- Product schema 已定义在 pkg/ent/schema/product.go
- 包含字段: product_id, product_name, unit, purchase_price, sale_price, current_stock, min_stock, status, factory_id
- 价格字段使用 decimal(18,4) 类型
- 支持软删除和租户隔离

### 需要实现的功能
1. 生成 Ent 代码
2. 创建以下文件结构:
   - internal/handler/product/ (5个handler文件)
   - internal/logic/product/ (5个logic文件)
   - internal/repository/product/ (1个repository文件)
3. 实现 API 接口:
   - POST /api/product/create - 创建商品
   - GET /api/product/list - 商品列表(支持分页、搜索、筛选)
   - GET /api/product/detail - 商品详情
   - PUT /api/product/update - 更新商品
   - DELETE /api/product/delete - 删除商品

### 技术要求
- 价格计算使用 decimal 类型确保精度
- 支持按工厂筛选商品
- 实现库存预警功能
- 添加商品状态管理
- 实现统一的响应格式和错误处理
- 支持软删除和租户隔离

### 特殊处理
- 价格字段需要特殊处理 decimal 类型
- 库存相关字段需要数值验证
- 工厂关联需要验证工厂是否存在
```

## 库存管理模块实现提示词

```
请基于现有的 Go-Zero 项目结构，实现库存管理模块的完整功能。

### 项目信息
- 项目路径: /Users/solate/workspace/go/src/admin_demo/backend
- 使用框架: Go-Zero + Ent ORM
- 数据库: PostgreSQL/MySQL
- 租户隔离: 支持多租户

### 已实现的 Schema
- Inventory schema 已定义在 pkg/ent/schema/inventory.go
- Product schema 已定义在 pkg/ent/schema/product.go
- 包含字段: inventory_id, product_id, operation_type, quantity, unit_price, total_amount, operator_id, remark, operation_time, before_stock, after_stock
- 金额字段使用 decimal(18,4) 类型

### 需要实现的功能
1. 生成 Ent 代码
2. 创建以下文件结构:
   - internal/handler/inventory/ (5个handler文件)
   - internal/logic/inventory/ (5个logic文件)
   - internal/repository/inventory/ (1个repository文件)
3. 实现 API 接口:
   - POST /api/inventory/in - 商品入库
   - POST /api/inventory/out - 商品出库
   - GET /api/inventory/list - 库存记录列表
   - GET /api/inventory/stock - 商品库存信息
   - GET /api/inventory/history - 库存操作历史

### 关键技术要求
- 实现原子性操作：库存操作需要同时更新 Product 表和 Inventory 表
- 使用数据库事务确保数据一致性
- 实现乐观锁防止并发问题
- 自动计算总金额 (quantity * unit_price)
- 记录操作前后的库存快照
- 验证商品是否存在和状态是否可用
- 出库时验证库存是否充足

### 业务逻辑
- 入库：增加商品库存，记录入库记录
- 出库：减少商品库存，记录出库记录
- 库存不足时出库操作应该失败
- 记录操作人信息和操作时间
- 支持批量操作

### 特殊处理
- 金额计算使用 decimal 类型
- 库存数量不能为负数
- 操作类型只能是 'in' 或 'out'
- 需要验证操作人权限
```

## 数据统计模块实现提示词

```
请基于现有的 Go-Zero 项目结构，实现数据统计模块的完整功能。

### 项目信息
- 项目路径: /Users/solate/workspace/go/src/admin_demo/backend
- 使用框架: Go-Zero + Ent ORM
- 数据库: PostgreSQL/MySQL
- 租户隔离: 支持多租户

### 已实现的 Schema
- ProductStatistics schema 已定义在 pkg/ent/schema/product_statistics.go
- 包含统计字段: 商品总数、库存统计、入库统计、出库统计、销售统计
- 金额字段使用 decimal(18,4) 类型

### 需要实现的功能
1. 生成 Ent 代码
2. 创建以下文件结构:
   - internal/handler/statistics/ (5个handler文件)
   - internal/logic/statistics/ (5个logic文件)
   - internal/repository/statistics/ (1个repository文件)
3. 实现 API 接口:
   - GET /api/statistics/daily - 日统计
   - GET /api/statistics/monthly - 月统计
   - GET /api/statistics/yearly - 年统计
   - POST /api/statistics/calculate - 手动计算统计
   - GET /api/statistics/overview - 统计概览

### 统计计算逻辑
- 商品总数：统计所有商品数量
- 启用商品数：统计状态为启用的商品数量
- 总库存数量：所有商品当前库存之和
- 总库存价值：所有商品(当前库存 * 采购价格)之和
- 低库存商品数：当前库存 <= 最小库存预警的商品数量
- 入库统计：统计指定时间范围内的入库数量和金额
- 出库统计：统计指定时间范围内的出库数量和金额
- 销售统计：统计指定时间范围内的销售数量和金额

### 技术要求
- 支持按时间范围统计
- 支持按工厂筛选统计
- 实现统计数据的缓存机制
- 支持实时统计和定时统计
- 金额计算使用 decimal 类型
- 实现统计数据的增量更新

### 特殊处理
- 统计数据需要按租户隔离
- 支持统计数据的导出功能
- 实现统计数据的可视化接口
- 处理大量数据时的性能优化
```
